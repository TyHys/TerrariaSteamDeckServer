# TerrariaSteamDeckServer Configuration
# =====================================
# Copy this file to .env and customize your settings.
# Run 'make setup' to create the file automatically.
#
# IMPORTANT: You MUST set API_PASSWORD before starting the server!

#===============================================================
# REQUIRED SETTINGS
#===============================================================

# API password for web interface (REQUIRED - minimum 8 characters)
# This is the password you'll use to login to the web management interface.
# CHANGE THIS to a secure password before starting the server!
API_PASSWORD=

#===============================================================
# WORLD SETTINGS
#===============================================================

# Name of the world (without .wld extension)
WORLD_NAME=world

# World size for auto-created worlds
# Options: 1 (Small ~40MB), 2 (Medium ~80MB), 3 (Large ~160MB)
WORLD_SIZE=2

# World difficulty for auto-created worlds
# Options: 0 (Classic), 1 (Expert), 2 (Master), 3 (Journey)
DIFFICULTY=0

# Auto-create world if it doesn't exist
# Options: 0 (disabled), 1 (small), 2 (medium), 3 (large)
# Set to 0 if you want to create worlds manually via web interface
AUTOCREATE=2

# World seed (optional) - leave empty for random
# Use this to generate the same world layout
WORLD_SEED=

#===============================================================
# SERVER SETTINGS
#===============================================================

# Maximum number of concurrent players (1-255)
MAX_PLAYERS=8

# Server port for Terraria game connections
# Note: If you change this, update your port forwarding
SERVER_PORT=7777

# Server password (leave empty for no password)
# Players will need this password to join
SERVER_PASSWORD=

# Message of the Day - shown to players when they join
MOTD=Welcome to the Terraria Server!

# Anti-cheat protection
# Options: 0 (disabled), 1 (enabled - recommended)
SECURE=1

# Server language
LANGUAGE=en-US

#===============================================================
# PROCESS MANAGEMENT
#===============================================================

# These settings control how the server handles crashes.

# Initial delay before restarting after crash (seconds)
RESTART_DELAY=5

# Maximum delay between restart attempts (seconds)
RESTART_DELAY_MAX=60

# Multiplier for exponential backoff on repeated crashes
RESTART_DELAY_MULTIPLIER=2

#===============================================================
# BACKUP SETTINGS
#===============================================================

# Enable automatic backups
# Options: true, false
BACKUP_ENABLED=true

# Minutes between automatic backups
# Recommended: 30 (every 30 minutes during gameplay)
BACKUP_INTERVAL=30

# Number of backups to keep per world
# Default: 48 (~24 hours of backups at 30-minute intervals)
BACKUP_RETENTION=48

# Create backup immediately when container starts
# Options: true, false
BACKUP_ON_STARTUP=false

# Compression type for backups
# Options: gzip (smaller files), none (faster)
BACKUP_COMPRESSION=gzip

#===============================================================
# WEB INTERFACE SETTINGS
#===============================================================

# Web interface port
# Default: 8080 (change if another service uses this port)
API_PORT=8080

# API username for web interface login
API_USERNAME=admin

# JWT token expiry time in seconds
# Default: 86400 (24 hours)
API_TOKEN_EXPIRY=86400

# Enable debug mode for API (development only)
# Options: true, false
# WARNING: Never enable in production!
API_DEBUG=false

# Allowed CORS origins (for accessing API from other domains)
# Use * for all origins, or comma-separated list of allowed origins
# Example: http://localhost:3000,https://mysite.com
CORS_ORIGINS=*
